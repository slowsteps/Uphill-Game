package  {		import flash.display.MovieClip;	import flash.events.Event;	import flash.utils.Timer;	import flash.events.TimerEvent;			public class Emitter extends MovieClip {				private var mainscript:Main;		private var particlepool:Array;		public var emitTimer:Timer 				public function Emitter() {					}				public function setup(caller) {			mainscript = caller;			createParticlePool();			//this.addEventListener(Event.ENTER_FRAME,onEnterFrame);			emitTimer = new Timer(60,0);			emitTimer.addEventListener(TimerEvent.TIMER,onEmit)			emitTimer.start();		}				private function createParticlePool() {			particlepool = new Array();			for (var i=0;i<30;i++) {				var aParticle:Particle = new Particle();				mainscript.zoomcontainer.addChild(aParticle);				//addChild(aParticle);				particlepool.push(aParticle);			}		}			private function onEmit(e:Event) {			for each (var aParticle:Particle in particlepool) {				if (aParticle.available) {					aParticle.begin(mainscript);					break;				}			}		}		}	}