 package  {		import flash.display.MovieClip;	import flash.events.Event;	import flash.geom.Point;			public class Particle extends MovieClip {				public var available:Boolean=true;		private var lifetime:Number=0;		private var velocityx:Number;		private var velocityy:Number;		private var mainscript:Main;		private var startx:Number;		private var starty:Number;		private var pt:Point;		//settings		private var maxlifetime:Number=200;		private var startdistance:Number;						public function Particle() {			x=10;			y=20;			// constructor code		}				public function begin(inscript:Main,emitter:Emitter) {			mainscript = inscript;			startdistance = mainscript.cardistance;						available = false;					startx=emitter.followclip.x + emitter.offsetx;			starty=emitter.followclip.y + emitter.offsety;						var partscale = 1+3*Math.random();			this.scaleX = partscale;			this.scaleY = partscale;			velocityx = -1 - 4*Math.random();			velocityy = -6 + 12*Math.random();			this.addEventListener(Event.ENTER_FRAME,onEnterFrame);					}				private function onEnterFrame(e:Event) {						lifetime++;			if (lifetime>maxlifetime) {				recycle();			}			else {				//scroll is difference in cardistance since spawn				x=startx + (this.velocityx*lifetime) + (startdistance - mainscript.cardistance);				y=starty + (this.velocityy*lifetime);				velocityy = velocityy + 0.2;			}					}				private function recycle() {			this.removeEventListener(Event.ENTER_FRAME,onEnterFrame);			available = true;			x=0;			y=0;			this.scaleX = 0.5;			this.scaleY = 0.5;			alpha=1;			lifetime=0;		}			}	}